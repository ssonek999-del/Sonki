<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>VAMPIRE</title>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    text-align: center;
    background-color: #000;
    overflow: hidden;
    color: #fff;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  h1 {
    font-size: 50px;
    letter-spacing: 5px;
    text-shadow: 0 0 20px red;
    margin-bottom: 10px;
  }

  p {
    margin-top: 0;
    color: #aaa;
    font-size: 14px;
    letter-spacing: 1px;
  }

  .card {
    background: rgba(0, 0, 0, 0.7);
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 15px red;
    max-width: 350px;
    z-index: 2;
    position: relative;
  }

  input, select {
    width: 80%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid red;
    border-radius: 5px;
    outline: none;
    text-align: center;
    background-color: #111;
    color: #fff;
  }

  button {
    background-color: red;
    color: white;
    border: none;
    padding: 10px 14px;
    border-radius: 5px;
    cursor: pointer;
    transition: 0.3s;
    font-weight: bold;
    margin-top: 5px;
  }

  button:hover {
    background-color: darkred;
  }

  .invitation {
    display: none;
    margin-top: 20px;
    padding: 20px;
    background: rgba(255, 0, 0, 0.2);
    border: 2px solid red;
    border-radius: 10px;
    box-shadow: 0 0 10px red;
  }

  .vip-card {
    background-color: #111;
    border: 2px solid gold;
    color: gold;
    font-family: "Cursive", sans-serif;
  }

  .vip-title {
    font-size: 28px;
    font-weight: bold;
    margin-bottom: 10px;
  }

  .emoji {
    position: absolute;
    font-size: 2rem;
    animation: float 10s linear infinite;
    opacity: 0.8;
  }

  @keyframes float {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0.8;}
    100% { transform: translateY(-10vh) rotate(360deg); opacity: 0;}
  }

  /* small helpers */
  .muted { color: #bbb; font-size: 13px; margin-top:6px; }
  .buy-row { display:flex; gap:8px; justify-content:center; margin-top:10px; }
</style>
</head>
<body>
<h1>VAMPIRE</h1>
<p>Power by ALJABERI</p>

<div class="card" id="form">
  <h2>ğŸƒ Halloween Party Entry ğŸƒ</h2>
  <select id="language">
    <option value="en">English</option>
    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    <option value="es">EspaÃ±ol</option>
  </select><br>
  <input type="text" id="name" placeholder="Enter your name" />
  <input type="text" id="studentId" placeholder="Enter your student ID" />
  <input type="password" id="password" placeholder="Enter invitation code" />
  <button onclick="generateCard()">Submit</button>
  <div class="muted">If your code is invalid you can buy one below.</div>
</div>

<div class="invitation" id="invitation">
  <div id="cardContent" class="card">
    <h2 id="inviteTitle">ğŸƒ Halloween Party Invitation ğŸƒ</h2>
    <p id="invitationText"></p>
    <p id="location">ğŸ“ Location: School Hall</p>
    <p id="time">ğŸ•’ Time: 6:00 PM - 10:00 PM</p>
    <p id="dress">ğŸ§› Dress Code: Scary Costume</p>
    <p id="owner">ğŸ¤ Party Owner: Aisha</p>
  </div>
</div>

<div class="card" id="wrongPassword" style="display:none;">
  <h2>âŒ Access Denied âŒ</h2>
  <p id="wrongText">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø³Øª Ù…Ø¯Ø¹Ùˆ</p>
  <div class="buy-row">
    <button onclick="buyPassword('regular')">Buy Regular ($5)</button>
    <button onclick="buyPassword('vip')">Buy VIP</button>
  </div>
  <div class="muted">After purchase you'll get a code auto-filled into the form.</div>
</div>

<script>
/*
  Implementation notes (Arabic):
  - Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù†Ù†Ø´Ø¦ Ù‚Ø§Ø¦Ù…ØªÙŠÙ† Ù…Ù† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©:
      regularCodes  (Ù…Ø«Ù„Ø§Ù‹ 30 ÙƒÙˆØ¯)  ==> Ø£Ø³Ø¹Ø§Ø± $5
      vipCodes      (Ù…Ø«Ù„Ø§Ù‹ 30 ÙƒÙˆØ¯)  ==> VIP
  - Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù†Ø¨Ø­Ø« Ø¥Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø£ÙŠ Ù‚Ø§Ø¦Ù…Ø© ÙˆÙ†Ù‚Ø±Ø± Ù‡Ù„ Ù‡Ùˆ VIP Ø£Ùˆ Regular.
  - Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡ Ù†Ù…Ù†Ø­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙƒÙˆØ¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©ØŒ Ù†Ù†Ø³Ø®Ù‡ Ù„Ù„Ø­Ø§ÙØ¸Ø©ØŒ Ù†Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚Ù„ØŒ ÙˆÙ†Ø±Ø¬Ù‘Ø¹Ù‡ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©.
*/

// ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠ (Ø­Ø±ÙˆÙ ÙƒØ¨ÙŠØ±Ø© + Ø£Ø±Ù‚Ø§Ù…)
function genCode(length = 6) {
  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789'; // Ø¨Ø¯ÙˆÙ† Ø­Ø±ÙˆÙ ØªØ´Ø¨Ù‡ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
  let out = '';
  for (let i = 0; i < length; i++) {
    out += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return out;
}

// Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…ØªÙŠÙ† Ù…Ù† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØµÙØ­Ø©
const regularCodes = [];
const vipCodes = [];
(function generateLists() {
  const regularCount = 30;
  const vipCount = 30;
  // for realism, include the original known codes inside lists (optional)
  // ensure uniqueness
  const setReg = new Set();
  const setVip = new Set();

  // add explicit "known" regular/vip codes for compatibility (kept for older tests)
  setReg.add('123123'); // old code preserved
  setVip.add('1111');   // old VIP preserved

  while (setReg.size < regularCount) setReg.add(genCode(6));
  while (setVip.size < vipCount) setVip.add(genCode(5));

  setReg.forEach(c => regularCodes.push(c));
  setVip.forEach(c => vipCodes.push(c));

  // DEBUG: (uncomment to log lists)
  // console.log('regularCodes', regularCodes);
  // console.log('vipCodes', vipCodes);
})();

// Floating emojis
const emojis = ["ğŸƒ","ğŸ¦‡","ğŸ‘»","ğŸ•¸ï¸","ğŸ•·ï¸","ğŸ’€","ğŸ§›"];
for(let i=0;i<20;i++){
  const emoji=document.createElement("div");
  emoji.classList.add("emoji");
  emoji.textContent=emojis[Math.floor(Math.random()*emojis.length)];
  emoji.style.left=Math.random()*100+"vw";
  emoji.style.animationDuration=8+Math.random()*5+"s";
  emoji.style.fontSize=1+Math.random()*2+"rem";
  document.body.appendChild(emoji);
}

// utility: copy to clipboard (modern browsers)
async function copyToClipboard(text) {
  try {
    await navigator.clipboard.writeText(text);
    return true;
  } catch (e) {
    // fallback: create temporary textarea
    const ta = document.createElement('textarea');
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    try { document.execCommand('copy'); } catch(e2){/*ignore*/} 
    document.body.removeChild(ta);
    return false;
  }
}

// ØªØ­Ù‚Ù‚ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ÙˆØ§Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
function generateCard(){
  const name = document.getElementById("name").value.trim();
  const id = document.getElementById("studentId").value.trim();
  const password = document.getElementById("password").value.trim().toUpperCase();
  const lang = document.getElementById("language").value;
  const invite = document.getElementById("invitation");
  const form = document.getElementById("form");
  const wrong = document.getElementById("wrongPassword");
  const cardContent = document.getElementById("cardContent");

  // ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„
  if (!name || !id) {
    alert(lang==="ar"?"ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„":"Please fill all fields!");
    return;
  }

  // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
  const isRegular = regularCodes.includes(password);
  const isVIP = vipCodes.includes(password);

  if (!isRegular && !isVIP) {
    // Ù„ÙŠØ³ ÙƒÙˆØ¯ ØµØ§Ù„Ø­ -> Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø´Ø±Ø§Ø¡
    form.style.display = "none";
    invite.style.display = "none";
    wrong.style.display = "block";
    return;
  }

  const isVIPMode = isVIP;

  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†ØµÙˆØµ Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ©
  let message="", title="", loc="", time="", dress="", owner="ğŸ¤ Party Owner: Aisha";
  if (lang==="en"){
    title = isVIPMode ? "VIP" : "ğŸƒ Halloween Party Invitation ğŸƒ";
    message = `Welcome ${name}! Your student ID ${id} has been approved for entry.`;
    loc = "ğŸ“ Location: School Hall";
    time = "ğŸ•’ Time: 6:00 PM - 10:00 PM";
    dress = "ğŸ§› Dress Code: Scary Costume";
    owner = isVIPMode ? "ğŸ¤ Party Owner: Aisha (VIP)" : "ğŸ¤ Party Owner: Aisha";
  } else if (lang==="ar"){
    title = isVIPMode ? "VIP" : "ğŸƒ Ø¯Ø¹ÙˆØ© Ù„Ø­ÙÙ„Ø© Ø§Ù„Ù‡Ø§Ù„ÙˆÙŠÙ† ğŸƒ";
    message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${name}! ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ ${id} Ù„Ù„Ø¯Ø®ÙˆÙ„.`;
    loc = "ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ù‚Ø§Ø¹Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©";
    time = "ğŸ•’ Ø§Ù„ÙˆÙ‚Øª: Ù…Ù† 6 Ù…Ø³Ø§Ø¡Ù‹ Ø¥Ù„Ù‰ 10 Ù…Ø³Ø§Ø¡Ù‹";
    dress = "ğŸ§› Ø§Ù„Ø²ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: Ø²ÙŠ Ù…Ø®ÙŠÙ";
    owner = isVIPMode ? "ğŸ¤ Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø­ÙÙ„Ø©: Aisha (VIP)" : "ğŸ¤ Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø­ÙÙ„Ø©: Aisha";
  } else if (lang==="es"){
    title = isVIPMode ? "VIP" : "ğŸƒ InvitaciÃ³n a la fiesta de Halloween ğŸƒ";
    message = `Â¡Bienvenido ${name}! Tu nÃºmero de estudiante ${id} ha sido aprobado para entrar.`;
    loc = "ğŸ“ Lugar: SalÃ³n de la escuela";
    time = "ğŸ•’ Hora: 6:00 PM - 10:00 PM";
    dress = "ğŸ§› CÃ³digo de vestimenta: Disfraz aterrador";
    owner = isVIPMode ? "ğŸ¤ DueÃ±a de la fiesta: Aisha (VIP)" : "ğŸ¤ DueÃ±a de la fiesta: Aisha";
  }

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙˆØ§Ø¸Ù‡Ø§Ø± Ø§Ù„Ø³ØªØ§ÙŠÙ„ VIP Ù„Ùˆ Ø§Ø­ØªØ§Ø¬
  document.getElementById("inviteTitle").innerHTML = title;
  document.getElementById("invitationText").innerHTML = message;
  document.getElementById("location").innerHTML = loc;
  document.getElementById("time").innerHTML = time;
  document.getElementById("dress").innerHTML = dress;
  document.getElementById("owner").innerHTML = owner;

  cardContent.className = isVIPMode ? "card vip-card" : "card";
  form.style.display = "none";
  wrong.style.display = "none";
  invite.style.display = "block";
}

// Ø¹Ù…Ù„ÙŠØ© "Ø´Ø±Ø§Ø¡" Ø±Ù…Ø²: Ù†Ø£Ø®Ø° Ø±Ù…Ø² Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŒ Ù†Ø¸Ù‡Ø±Ù‡ ÙˆÙ†Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚Ù„ ÙˆÙ†Ø±Ø¬Ø¹ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
function buyPassword(type){
  let code = null;
  if(type === 'regular'){
    // Ø®Ø° ÙƒÙˆØ¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† regularCodes
    code = regularCodes[Math.floor(Math.random() * regularCodes.length)];
    alert(`ØªÙ… Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ Ø§Ù„Ø¹Ø§Ø¯ÙŠ ($5)\nÙƒÙˆØ¯Ùƒ: ${code}\nØªÙ… Ù†Ø³Ø®Ù‡ Ù„Ù„Ø­Ø§ÙØ¸Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹`);
  } else {
    code = vipCodes[Math.floor(Math.random() * vipCodes.length)];
    alert(`ØªÙ… Ø´Ø±Ø§Ø¡ VIP!\nÙƒÙˆØ¯Ùƒ: ${code}\nØªÙ… Ù†Ø³Ø®Ù‡ Ù„Ù„Ø­Ø§ÙØ¸Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹`);
  }

  // Ø­Ø§ÙˆÙ„ Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ø­Ø§ÙØ¸Ø©ØŒ Ù„ÙƒÙ†Ù‡ ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠ Ù„Ù„Ø¹Ù…Ù„
  copyToClipboard(code).catch(()=>{});

  // Ø§Ø±Ø¬Ø¹ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆØ¹Ø¨Ù‘ÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø¨Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯
  document.getElementById("form").style.display = "block";
  document.getElementById("wrongPassword").style.display = "none";
  document.getElementById("invitation").style.display = "none";

  document.getElementById("password").value = code;
  // optional: ØªØ±Ùƒ Ø§Ù„Ø§Ø³Ù…/Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ ÙƒÙ…Ø§ Ù‡Ùˆ Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¬Ø¯Ø¯Ø§Ù‹
  // Ø¥Ø°Ø§ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡, Ø§Ù„ØºÙŠ Ø§Ù„Ø³Ø·Ø±ÙŠÙ† Ø§Ù„ØªØ§Ù„ÙŠÙŠÙ†:
  // document.getElementById("name").value = "";
  // document.getElementById("studentId").value = "";
}

// Ù„Ù„Ù…Ø·ÙˆØ±: Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙ‚Ø·)
// function showLists(){ alert('regular: ' + regularCodes.join(',\\n') + '\\n\\nvip: ' + vipCodes.join(',\\n')); }
</script>
</body>
</html>